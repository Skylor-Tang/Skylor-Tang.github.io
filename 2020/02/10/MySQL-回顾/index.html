<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Monaco:300,300italic,400,400italic,700,700italic|Consolas:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-big-counter.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"always","padding":18,"offset":12,"onmobile":true},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="CREATE DATABASE 数据库名 即可创建相应的数据库，命令不限定大小写，注意在创建含有特殊字符的数据库名的数据库的时候，需要使用反标记字符 (\&#96;) 用于引用标识符，数据表名同理...">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL 回顾">
<meta property="og:url" content="http://yoursite.com/2020/02/10/MySQL-%E5%9B%9E%E9%A1%BE/index.html">
<meta property="og:site_name" content="Skylor Blog">
<meta property="og:description" content="CREATE DATABASE 数据库名 即可创建相应的数据库，命令不限定大小写，注意在创建含有特殊字符的数据库名的数据库的时候，需要使用反标记字符 (\&#96;) 用于引用标识符，数据表名同理...">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2019/12/10/n9UYL5kAVdH7ozS.png">
<meta property="og:image" content="https://i.loli.net/2019/12/10/hw8V2rkCyapLAjK.png">
<meta property="og:image" content="https://i.loli.net/2019/12/10/43uKkIWXbBcZd8R.png">
<meta property="article:published_time" content="2020-02-10T12:50:38.000Z">
<meta property="article:modified_time" content="2020-05-18T14:07:22.902Z">
<meta property="article:author" content="Skylor Tang">
<meta property="article:tag" content="MySQL">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2019/12/10/n9UYL5kAVdH7ozS.png">

<link rel="canonical" href="http://yoursite.com/2020/02/10/MySQL-%E5%9B%9E%E9%A1%BE/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>MySQL 回顾 | Skylor Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Skylor Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/10/MySQL-%E5%9B%9E%E9%A1%BE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Skylor Tang">
      <meta itemprop="description" content="Your advantages today will be replaced by future trends, so keep learning.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Skylor Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          MySQL 回顾
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-02-10 20:50:38" itemprop="dateCreated datePublished" datetime="2020-02-10T20:50:38+08:00">2020-02-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-05-18 22:07:22" itemprop="dateModified" datetime="2020-05-18T22:07:22+08:00">2020-05-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/" itemprop="url" rel="index"><span itemprop="name">计算机</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/MySQL/" itemprop="url" rel="index"><span itemprop="name">MySQL</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/02/10/MySQL-%E5%9B%9E%E9%A1%BE/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/02/10/MySQL-%E5%9B%9E%E9%A1%BE/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <div class="post-description">CREATE DATABASE 数据库名 即可创建相应的数据库，命令不限定大小写，注意在创建含有特殊字符的数据库名的数据库的时候，需要使用反标记字符 (\`) 用于引用标识符，数据表名同理...</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="创建数据库"><a class="header-anchor" href="#创建数据库">¶</a>创建数据库</h2>
<p><code>CREATE DATABASE 数据库名</code>即可创建相应的数据库，命令不限定大小写，注意在创建含有特殊字符的数据库名的数据库的时候，需要使用反标记字符 (`) 用于引用标识符，数据表名同理。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create database `my.contacts`</span><br></pre></td></tr></table></figure>
<p>可以在连接数据库的同时就指定要连接的数据库，如 <code>mysql -uroot -p 数据库名</code>，这样一连接上就进入了该数据库。</p>
<p>进入mysql后，使用 <code>use 数据库名</code>，进入和切换相应的数据库，使用 <code>SELECT DATABASE();</code> 可以查看当前进入的数据库是哪个，注意需要添加分号。</p>
<p>数据库被创建为数据目录中的一个目录，使用 <code>SHOW VARIABLES LIKE 'datadir';</code> ，可以查看到该目录所在的文件夹位置。</p>
<h2 id="创建表"><a class="header-anchor" href="#创建表">¶</a>创建表</h2>
<p>在表定义的时候，应该指定列的名称、数据类型（整型、浮点型、字符串等）和默认值（如果有的话）。</p>
<p>mysql支持的类型:</p>
<ul>
<li>数字：tinyint、smallint、mediumint、int、bigint 和 big</li>
<li>浮点型： decimal、float和double</li>
<li>字符串： char、varchar、binary、varbinary、blob、text、enum 和 set</li>
<li>spatial数据类型</li>
<li>json数据类型</li>
</ul>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE IF NOT EXISTS &#96;company&#96;.&#96;customers&#96; (</span><br><span class="line">    &#96;id&#96; int unsigned AUTO_INCREMENT PRIMARY KEY,</span><br><span class="line">    &#96;first_name&#96; varchar(20),</span><br><span class="line">    &#96;last_name&#96; varchar(20),</span><br><span class="line">    &#96;country&#96; varchar(20)    </span><br><span class="line">) ENGINE&#x3D;InnoDB;</span><br></pre></td></tr></table></figure>
<p>解释：<br>
句点符号：表可以使用 database.table 的形式来引用，如果使用use进入到了该database下，则可以直接使用table。<br>
<code>IF NOT EXISTS</code>: 若在创建表的时候已经存在了一个同名的数据表，则指定了IF NOT EXISTS的情况下，只会抛出一个警告，否则若不指定，则报异常。<br>
<code>ENGINE</code>：用于指定创建表的数据引擎。InnoDB是唯一的事务引擎，也是默认引擎。<br>
<font color="red">注意： 最后一个value后不能有逗号</font></p>
<h3 id="可以在同一的数据库中创建多个表"><a class="header-anchor" href="#可以在同一的数据库中创建多个表">¶</a>可以在同一的数据库中创建多个表</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE payments (</span><br><span class="line">    &#96;customer_name&#96; varchar(20) PRIMARY KEY,</span><br><span class="line">    &#96;payment&#96; float</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h3 id="列出所有的表"><a class="header-anchor" href="#列出所有的表">¶</a>列出所有的表</h3>
<p>使用 <code>SHOW TABLES</code></p>
<h3 id="查看表结构"><a class="header-anchor" href="#查看表结构">¶</a>查看表结构</h3>
<p><code>SHOW CREATE TABLE 表名\G</code></p>
<p><code>DESC 表名</code></p>
<p>创建表后，MySQL会在数据库目录内创建相应的<code>.ibd文件</code>，使用<code>SHOW VARIABLES LIKE 'datadir'</code>，可以查看到该目录所在的文件夹位置。</p>
<p>克隆表结构（创建一个和已有的表具有相同结构的表）：<code>CREATE TABLE 新表名 LIKE 已存在的表的表名</code></p>
<h2 id="操作数据库"><a class="header-anchor" href="#操作数据库">¶</a>操作数据库</h2>
<h3 id="插入"><a class="header-anchor" href="#插入">¶</a>插入</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">INSERT IGNORE INTO &#96;company&#96;.&#96;customers&#96; (first_name, last_name, country) </span><br><span class="line">VALUES</span><br><span class="line">(&#39;Mike&#39;, &#39;Christensen&#39;, &#39;USA&#39;),</span><br><span class="line">(&#39;Andy&#39;, &#39;Hollands&#39;, &#39;Australia&#39;),</span><br><span class="line">(&#39;Ravi&#39;, &#39;Vedantam&#39;, &#39;India&#39;),</span><br><span class="line">(&#39;Rajiv&#39;, &#39;Perera&#39;, &#39;Sri Lanka&#39;);</span><br></pre></td></tr></table></figure>
<p>解释：<br>
IGNORE： 如果该行已经存在，此时加入了IGNORE,新添加的数据将被忽略，且INSERT操作被显示为成功，同时生成一个警告和重复数据的数目，否则报错。<br>
若插入的是完整的数据内容，即不使用自增的值和默认值的话，可以不写(first_name, last_name, country)</p>
<h3 id="更新"><a class="header-anchor" href="#更新">¶</a>更新</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE customers SET first_name&#x3D;&#39;Rajiv&#39;, country&#x3D;&#39;UK&#39; WHERE id&#x3D;4;</span><br></pre></td></tr></table></figure>
<p>解释：<br>
WHERE:这是用于过滤的字句。用于筛选出特定的数据。若不添加，则默认更改所有的数据。<br>
<strong>WHERE字句是强制性的。建议在事务中修改数据，以便在发现任何错误的时候轻松的回滚这些更改</strong></p>
<h3 id="删除"><a class="header-anchor" href="#删除">¶</a>删除</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DELETE FROM customers WHERE id&#x3D;4 AND first_name&#x3D;&#39;Rajiv&#39;;</span><br></pre></td></tr></table></figure>
<p>解释：<br>
<strong>WHERE字句是强制性的，若没有WHERE，则会删除表中所有的数据，建议在事务中修改数据，以便在发现任何错误的时候轻松的回滚这些更改</strong></p>
<h3 id="REPLACE、INSERT和ON-DUPLICATE-KEY-UPDATE"><a class="header-anchor" href="#REPLACE、INSERT和ON-DUPLICATE-KEY-UPDATE">¶</a>REPLACE、INSERT和ON DUPLICATE KEY UPDATE</h3>
<ul>
<li>
<p>在很多情况下，我们需要处理重复项。行的唯一性有主键标识。如果行已经存在，则REPLACE会简单地删除行并重新插入新行；如果该行不存在，则此时的REPLACE等同于INSERT。<br>
使用REPLACE在插入重复项（主键是不能重复的）的时候，会显示更新了两行，这是因为，先删除了原先的记录，又添加了新的记录，所以显示改变了两行。</p>
</li>
<li>
<p>如果想在行已经存在的情况下处理重复项，则需要使用ON DUPLICATE KEY UPDATE。如果指定了ON DUPLICATE KEY UPDATE选项，并且INSERT语句在PRIMARY KEY中引发了重复值，则MySQL会用新值更新已有行。<br>
使用场景（类似于update操作，但是是以插入数据的形式进行的）</p>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO payments VALUES ('Mike Christensen', 200) ON DUPLICATE KEY UPDATE payment=payment+VALUES(payment);</span><br><span class="line">INSERT INTO payments VALUES ('Mike Christensen', 300) ON DUPLICATE KEY UPDATE payment=payment+VALUES(payment);</span><br></pre></td></tr></table></figure>
<p>解释：<br>
第一条语句直接在表中创建了一条新的数据，执行第二条语句时会发现customer_name这一项的值重复了，此时ON DUPLICATE KEY UPDATE就会生效，会覆盖原有的值，相当于对数据进行了更新，此时值应该是500。同时，我们发现显示修改了两条数据，这是因为，先删除了原先的记录，又添加了新的记录，所以显示改变了两行。<br>
VALUES(payment)代表的是INSERT语句给的值，而payment是表中的列的值。</p>
<h3 id="TRUNCATE-TABLE"><a class="header-anchor" href="#TRUNCATE-TABLE">¶</a>TRUNCATE TABLE</h3>
<pre><code>* 删除整个表需要很长时间，因为MySQL需要逐行执行操作。删除表中的所有行（保留表结构）的最快方法是使用TRUNCATING TABLE语句。
`TRUNCATE TABLE 表名`，是DDL操作，一旦数据被清楚，不能回滚。
</code></pre>
<h3 id="查询"><a class="header-anchor" href="#查询">¶</a>查询</h3>
<h4 id="操作符"><a class="header-anchor" href="#操作符">¶</a>操作符</h4>
<p>mysql支持许多操作符来筛选结果。</p>
<ul>
<li>equality:</li>
<li>IN:检查一个值是否再一组值内：找出姓氏为Christ和Lamba的所有员工数</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select COUNT(*) from employees where last_name in ('christ','Lamba');</span><br></pre></td></tr></table></figure>
<ul>
<li>BETWEEN AND: 找出1986年12月入职的员工数</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select COUNT(*) FROM employees WHERE hire_date BETWEEN '1986-12-01' AND '1976-12-31';</span><br></pre></td></tr></table></figure>
<ul>
<li>NOT：否定结果，找出不是在1986年12月入职的员工数</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select COUNT(*) FROM employees WHERE hire_date NOT BETWEEN '1986-12-01' AND '1976-12-31';</span><br></pre></td></tr></table></figure>
<h4 id="简单模式匹配"><a class="header-anchor" href="#简单模式匹配">¶</a>简单模式匹配</h4>
<p>可以使用LIKE运算符来是实现简单的模式匹配。使用下划线 <code>_</code> 来精准匹配一个字符，使用 <code>%</code> 来匹配任意数量的字符。</p>
<ul>
<li>找出名字以Christ开头的所有员工总数</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select count(*) from employees where first_name like 'christ%';</span><br></pre></td></tr></table></figure>
<ul>
<li>找出名字以Christ开头并以ed结尾的所有员工总数</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select count(*) from employees where first_name like 'christ%ed';</span><br></pre></td></tr></table></figure>
<ul>
<li>找出名字中包含str的所有员工的数</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select count(*) from employees where first_name like '%str%'</span><br></pre></td></tr></table></figure>
<ul>
<li>找出名字中以ser的所有员工的数: <code>%er</code></li>
<li>以任意两个字符开头、后面跟随ka、再后面跟随任意数字符的所有员工数：<code>like '__ka%'</code></li>
</ul>
<h4 id="正则表达式"><a class="header-anchor" href="#正则表达式">¶</a>正则表达式</h4>
<p>可以利用 RLIKE 或 REGEXP 运算符在 WHERE 子句中使用正则表达式。（RLIKE和REGEXP使用方法一样，即可以相互替代）</p>
<ul>
<li>查找出姓氏以ba结尾的所有员工数</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select count(*) from employees where last_name rlike 'ba$';</span><br></pre></td></tr></table></figure>
<ul>
<li>查找姓氏不包含元音（a、e、i、o和u）的所有员工的人数</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select count(*) from employees where last_name not regexp '[aeiou]';</span><br></pre></td></tr></table></figure>
<h4 id="限定结果"><a class="header-anchor" href="#限定结果">¶</a>限定结果</h4>
<p>使用limit来进行设置</p>
<ul>
<li>查询hire_data在1986年之前的任何10名员工的姓名</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select first_name, last_name from employees where hire_data &lt; '1996-01-01' limit 10;</span><br></pre></td></tr></table></figure>
<h4 id="使用表别名"><a class="header-anchor" href="#使用表别名">¶</a>使用表别名</h4>
<p>使用AS来设置别名</p>
<ul>
<li>对COUNT(*)使用AS来设置别名</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select count(*) AS count from employees;</span><br></pre></td></tr></table></figure>
<h4 id="对结果进行排序"><a class="header-anchor" href="#对结果进行排序">¶</a>对结果进行排序</h4>
<p>对结果进行排序（order by），可以根据列或者别名对结果进行排序，也可以用DESC指定按降序或用ASC指定升序来排序。默认情况下，按照升序排序。可以将 limit 子句与 ordery by 结合使用以限定结果集。</p>
<ul>
<li>查找薪水最高的前5名员工的编号</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select emp_no, salary from salaries order by salary limit 6;</span><br></pre></td></tr></table></figure>
<ul>
<li>若想降序，则使用</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select emp_no, salary from salaries order by salary desc limit 6;</span><br></pre></td></tr></table></figure>
<ul>
<li>也可以通过指定要进行排序的列所有表中的位置进行指定，如本次排序的salary列在表中的位置为2</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select emp_no, salary from salaries order by 2 limit 6;</span><br></pre></td></tr></table></figure>
<h4 id="对结果进行分组（聚合函数）"><a class="header-anchor" href="#对结果进行分组（聚合函数）">¶</a>对结果进行分组（聚合函数）</h4>
<p>可以使用 group by 子句对结果进行分组，然后使用 AGGREGATE（聚合函数），如 COUNT、MAX、MIN 和 AVERAGE。还可以在 group by 子句的列上使用函数。</p>
<ul>
<li>分别找出男性和女性员工的人数</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select gender, count(gender) as count from employees group by gender;</span><br></pre></td></tr></table></figure>
<ul>
<li>找出员工名字（first_name）中最常见的10个名字</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select first_name, count(*) as count  from employees group by first_name order by count  desc limit 10;</span><br></pre></td></tr></table></figure>
<ul>
<li>查找每年给予员工的薪水总额</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select year(from_date), sum(salary) as sum from salaries group by year(from_date) order by sum desc;</span><br></pre></td></tr></table></figure>
<p>分析，这句查询实际上是按照from_date字段进行查询的，只是使用了year()函数，将每个全日期显示为年份。</p>
<ul>
<li>查找平均工资最高的10名员工</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select emp_no, avg(salary) as avg from salaries group by emp_no order by avg desc limit 10;</span><br></pre></td></tr></table></figure>
<ul>
<li>可以使用 DISTINCT 过滤掉相同的数据，如过滤掉不同的书籍</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select distinct title from titles;</span><br></pre></td></tr></table></figure>
<p>相同效果</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select title from titles group by title;</span><br></pre></td></tr></table></figure>
<ul>
<li>使用 HAVING 过滤，可以通过添加 HAVING 子句来过滤 GROUP BY 子句的结果，如找到平均工资超过140000美元的员工</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select emp_no, avg(salary) as avg from salaries group by emp_no having avg &gt;140000 order by avg desc;</span><br></pre></td></tr></table></figure>
<p>可以发现 having 和 where 的区别在于：where是对select的范围进行过滤，过滤的是查询的范围，而 having 是对查询到的结果进行过滤，过滤的是查询到的结果。</p>
<h2 id="权限管理"><a class="header-anchor" href="#权限管理">¶</a>权限管理</h2>
<h3 id="创建用户"><a class="header-anchor" href="#创建用户">¶</a>创建用户</h3>
<p>事实上不应该使用 root 用户连接到 mysql 并执行语句，除非是 localhost 的管理任务。我们应该创建用户，限制访问，限制资源使用等等。创建用户需要拥有 CREATE USER 权限。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用 root 连接到 mysql 并执行 create user 命令来创建新用户</span></span><br><span class="line">CREATE USER IF NOT EXISTS <span class="string">'company_read_only'</span>@<span class="string">'localhost'</span> IDENTIFIED WITH mysql_native_password BY <span class="string">'company_pass'</span> WITH MAX_QUERIES_PER_HOUR 500 MAX_UPDATES_FER_HOUR 100;</span><br></pre></td></tr></table></figure>
<p>参数说明：</p>
<ul>
<li>用户名：company_read_only</li>
<li>仅从localhost访问，可以限制对IP范围的访问，例如10.148.%.%。通过给出%，用户可以从任何主机访问。</li>
<li>密码：company_pass</li>
<li>使用mysql_native_password（默认）身份验证，还可以指定任何可选的身份验证，例如sha256_password、LDAP 或 Kerberos。</li>
<li>用户可以在一小时内执行的最大查询数为500。</li>
<li>用户可以在一小时内执行的最大更新次数为100次。</li>
</ul>
<h4 id="密码策略修改"><a class="header-anchor" href="#密码策略修改">¶</a>密码策略修改</h4>
<p>由于mysql8密码策略的问题，导致简单的密码是不能通过验证的，下面我们通过修改密码验证的策略，使其能够使用简单的密码进行登录验证。</p>
<ol>
<li>查看密码的验证策略：<code>show variables like 'validate_password%'</code>进行查看。<br>
<img src="https://i.loli.net/2019/12/10/n9UYL5kAVdH7ozS.png" alt="select_valiables_new.png"></li>
<li>首先设置密码的验证强度等级，设置 validate_password_policy 的全局参数为LOW即可，设置语句为 <code>set global validate_password_policy=LOW;</code> 进行设置。</li>
<li>使用类似的方法还可以设置密码的长度，但是默认最短不能低于4，所以一旦低于4，也是会默认为4的。<br>
<img src="https://i.loli.net/2019/12/10/hw8V2rkCyapLAjK.png" alt="shezhinew.png"></li>
<li>设置好后的效果，修改了密码验证的等级为 LOW，修改了要求的特殊字符数为0。<br><br>
<img src="https://i.loli.net/2019/12/10/43uKkIWXbBcZd8R.png" alt="select_variables.png"></li>
</ol>
<p>关于 mysql 密码策略相关参数：</p>
<ol>
<li>validate_password.length  固定密码的总长度；</li>
<li>validate_password.dictionary_file 指定密码验证的文件路径；</li>
<li>validate_password.mixed_case_count  整个密码中至少要包含大/小写字母的总个数；</li>
<li>validate_password.number_count  整个密码中至少要包含阿拉伯数字的个数；</li>
<li>validate_password.policy 指定密码的强度验证等级，默认为 MEDIUM；<br>
关于 validate_password_policy 的取值：
<ul>
<li>LOW：只验证长度；</li>
<li>MEDIUM：验证长度、数字、大小写、特殊字符；</li>
<li>STRONG：验证长度、数字、大小写、特殊字符、字典文件；</li>
</ul>
</li>
<li>validate_password.special_char_count 整个密码中至少要包含特殊字符的个数；</li>
</ol>
<h3 id="授予和撤销用户的访问权限"><a class="header-anchor" href="#授予和撤销用户的访问权限">¶</a>授予和撤销用户的访问权限</h3>
<p>可以限制用户的访问特定数据库或表，或限制特定操作，如 SELECT、 INSERT 和 UPDATE。需要拥有 GRANT 权限，才能为其他用户授予权限。<br>
如何做： 可以通过root用户来授予权限，同时还可以创建管理员账户来管理用户。</p>
<ul>
<li>将 READ ONLY（只读权限SELECT）权限授予刚刚创建的company_read_only用户</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grant select on company.* to <span class="string">'company_read_only'</span>@<span class="string">'localhost'</span>;</span><br></pre></td></tr></table></figure>
<p>该语句表示将对数据库 company 及其所有的表对本地访问的名为 <code>company_read_only</code>的用户授予查询的权限</p>
<ul>
<li>将INSERT权限授予新的company_insert_only用户</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grent insert on company.* to <span class="string">'company_insert_only'</span>@<span class="string">'localhost'</span> indentified by <span class="string">'xxx'</span>;</span><br></pre></td></tr></table></figure>
<p>该语句在授予权限的时候同时创建新的用户。普通的创建用户的语句格式为</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create user <span class="string">"username"</span>@<span class="string">"host"</span> identified by <span class="string">"password"</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>将WRITE（即写权限，INSERT、UPDATE和DELETE）权限授予新建的 company_write 用户</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grant insert, delete, update on company.* to <span class="string">'company_write'</span>@<span class="string">'%'</span> identified with mysql_native_password by <span class="string">'xxxx'</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>限制查询指定的表。将 employees_read_only 用户限制为仅能查询employees表</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grant select on employees.employees to <span class="string">'employees_read_only'</span>@<span class="string">'%'</span> identified with mysql_native_password by <span class="string">'xxxx'</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>可以进一步将访问权限设置为仅能查询指定列。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grant select(first_name, last_name) on employees.employees to <span class="string">'employees_read_only'</span>@<span class="string">'%'</span> identified with mysql_native_password by <span class="string">'xxx'</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：在以上的语句在授予权限的同时都是创建新的用户，但是这是不被推荐的，在8.0.18版本已经不能这样使用了，推荐用法是先创建用户，再赋予权限。</p>
</blockquote>
<ul>
<li>扩展授权。可以通过执行新授权来扩展授权。将权限扩展到employees_col_ro用户，以访问薪资（salaries）表中的薪水</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grant select(salary) on employees.salaries to <span class="string">'employees_ro'</span>@<span class="string">'%'</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>创建SUPER用户。需要一个管理员账户来管理该服务器。ALL表示出了GRANT权限之外的所有权限</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create user <span class="string">'dbadmin'</span>@<span class="string">'%'</span> identified with mysql_native_password by <span class="string">'DB@adln'</span>;</span><br></pre></td></tr></table></figure>
<p>赋予权限</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grant all on *.* to <span class="string">'dbadmin'</span>@<span class="string">'%'</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>授予 GRENT 权限，用户拥有 GRANT OPTION 权限才能授予其他用户权限。可以将 GRENT 特权扩展到 dbadmin 超级用户</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grant grant option on *.* to <span class="string">'dbadmin'</span>@<span class="string">'%'</span>;</span><br></pre></td></tr></table></figure>
<p>注意权限的全称为<code>grant option</code>。</p>
<p>总结：授予权限使用的关键字是<code>grant</code>，必须指明权限能访问的数据库和表<code>on 数据库.表</code>，必须指明授权的对象<code>to 用户</code>。</p>
<h4 id="检查权限"><a class="header-anchor" href="#检查权限">¶</a>检查权限</h4>
<p>检查所有用户的授权。检查employee_col_ro用户的授权</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show grants <span class="keyword">for</span> <span class="string">'employee_col_ro'</span>@<span class="string">'%'</span>;</span><br></pre></td></tr></table></figure>
<h4 id="撤销权限"><a class="header-anchor" href="#撤销权限">¶</a>撤销权限</h4>
<p>撤销’company_write’@‘%’用户的DETELE访问权限</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">revoke delete on company.* from <span class="string">'company_write'</span>@<span class="string">'%'</span>;</span><br></pre></td></tr></table></figure>
<p>撤销employee_ro用户对薪水列的访问权限</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">revoke select(salary) on employees.salaries from <span class="string">'employees_ro'</span>@<span class="string">'%'</span>;</span><br></pre></td></tr></table></figure>
<h4 id="修改mysql-user表"><a class="header-anchor" href="#修改mysql-user表">¶</a>修改mysql.user表</h4>
<p>所有用户的信息以及权限都存储在mysql.user表中，如果你有权访问mysql.user表，则可以直接通过修改mysql.user表来创建用户并授予权限。<br>
如果你使用GRANT、REVOKE、SET PASSWORD和RENAME USER等账户管理语句间接修改授权表，则服务器会通知这些更改，并立即再次将授权表加载到内存中。<br>
如果使用的是INSERT、UPDATE或者DELETE等语句直接修改授权表，则更改不会影响权限检查，除非重新启动服务器或指示其重新加载表。如果直接更改授权表，当忘记了重新加载表，那么在重新启动服务器之前，这些更改无效。<br>
可以使用查询语句进行查询mysql表，可看到某个用户的具体权限的信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from mysql.user <span class="built_in">where</span> user=<span class="string">'dbadmin'</span>/G;</span><br></pre></td></tr></table></figure>
<p>使用update即可对权限进行更新</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update mysql.user <span class="built_in">set</span> host=<span class="string">'localhost'</span> <span class="built_in">where</span> user=<span class="string">'dbadmin'</span>;</span><br></pre></td></tr></table></figure>
<p>因为是对mysql表进行操作的，所以想要立即生效，必须使用 <code>flush privileges;</code> 使其立即生效。</p>
<h4 id="设置用户密码的有效期"><a class="header-anchor" href="#设置用户密码的有效期">¶</a>设置用户密码的有效期</h4>
<p>可以设置一段时间作为用户密码的有效期，当有效期过后用户需要修改密码</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E5%B7%A5%E5%85%B7/" rel="tag"># 工具</a>
              <a href="/tags/MySQL/" rel="tag"># MySQL</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/01/30/%E9%9D%A2%E5%90%91%E6%8E%A5%E5%8F%A3/" rel="prev" title="Go基础之面向接口">
      <i class="fa fa-chevron-left"></i> Go基础之面向接口
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/02/15/SqlAlchemy-%E4%BD%BF%E7%94%A8/" rel="next" title="SqlAlchemy 使用">
      SqlAlchemy 使用 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#创建数据库"><span class="nav-number">1.</span> <span class="nav-text">创建数据库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#创建表"><span class="nav-number">2.</span> <span class="nav-text">创建表</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#可以在同一的数据库中创建多个表"><span class="nav-number">2.1.</span> <span class="nav-text">可以在同一的数据库中创建多个表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#列出所有的表"><span class="nav-number">2.2.</span> <span class="nav-text">列出所有的表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查看表结构"><span class="nav-number">2.3.</span> <span class="nav-text">查看表结构</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#操作数据库"><span class="nav-number">3.</span> <span class="nav-text">操作数据库</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#插入"><span class="nav-number">3.1.</span> <span class="nav-text">插入</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#更新"><span class="nav-number">3.2.</span> <span class="nav-text">更新</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#删除"><span class="nav-number">3.3.</span> <span class="nav-text">删除</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#REPLACE、INSERT和ON-DUPLICATE-KEY-UPDATE"><span class="nav-number">3.4.</span> <span class="nav-text">REPLACE、INSERT和ON DUPLICATE KEY UPDATE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TRUNCATE-TABLE"><span class="nav-number">3.5.</span> <span class="nav-text">TRUNCATE TABLE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查询"><span class="nav-number">3.6.</span> <span class="nav-text">查询</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#操作符"><span class="nav-number">3.6.1.</span> <span class="nav-text">操作符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#简单模式匹配"><span class="nav-number">3.6.2.</span> <span class="nav-text">简单模式匹配</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#正则表达式"><span class="nav-number">3.6.3.</span> <span class="nav-text">正则表达式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#限定结果"><span class="nav-number">3.6.4.</span> <span class="nav-text">限定结果</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用表别名"><span class="nav-number">3.6.5.</span> <span class="nav-text">使用表别名</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#对结果进行排序"><span class="nav-number">3.6.6.</span> <span class="nav-text">对结果进行排序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#对结果进行分组（聚合函数）"><span class="nav-number">3.6.7.</span> <span class="nav-text">对结果进行分组（聚合函数）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#权限管理"><span class="nav-number">4.</span> <span class="nav-text">权限管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#创建用户"><span class="nav-number">4.1.</span> <span class="nav-text">创建用户</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#密码策略修改"><span class="nav-number">4.1.1.</span> <span class="nav-text">密码策略修改</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#授予和撤销用户的访问权限"><span class="nav-number">4.2.</span> <span class="nav-text">授予和撤销用户的访问权限</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#检查权限"><span class="nav-number">4.2.1.</span> <span class="nav-text">检查权限</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#撤销权限"><span class="nav-number">4.2.2.</span> <span class="nav-text">撤销权限</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#修改mysql-user表"><span class="nav-number">4.2.3.</span> <span class="nav-text">修改mysql.user表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#设置用户密码的有效期"><span class="nav-number">4.2.4.</span> <span class="nav-text">设置用户密码的有效期</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Skylor Tang"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">Skylor Tang</p>
  <div class="site-description" itemprop="description">Your advantages today will be replaced by future trends, so keep learning.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">30</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">26</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      友情链接
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://kalasearch.cn/" title="https:&#x2F;&#x2F;kalasearch.cn&#x2F;" rel="noopener" target="_blank">卡拉搜索</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2019 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Skylor Tang</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'bva4r4SJYiDLdhU1ALkqpbqw-gzGzoHsz',
      appKey     : 'bWLTGKg8MzPrXsAvC3YDMehj',
      placeholder: "欢迎留言",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
